<html>
    <head><meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="sl.js"></script>
    </head>
    <body>
        <h2>Ekstubben</h2>
        <p id="ekstubben">Laddar...</p>

        <h2>Norra sköndal</h2>
        <p id="norraSkondal">Laddar...</p>

        <h2>Gullmarsplan</h2>
        <p id="gullmarsplan">Laddar...</p>
        
        <h2>Vattugatan</h2>
        <p id="vattugatan">Laddar...</p>

        <script>
            let ekstubben = 4604;
            let norraSkondal = 1810;
            let gullmarsplan = 9189;
            let vattugatan = 1003;

            let updateDepartures = (id, data) => {
                let output = document.getElementById(id);
                output.innerText = "";
                data.forEach(d => {output.innerText+=d.designation + " mot " + d.destination + " - " + d.display + "\n"});
            };
            /// https://www.trafiklab.se/api/our-apis/sl/transport/
            getDeparturesByDestinations(norraSkondal, ["801", "814"], ["Älta", "Södra Hedvigslund", "Stockholm C"]).then(result => {
                updateDepartures("norraSkondal", result);
            });
            getDeparturesByDestinations(ekstubben, ["801", "814"], ["Gullmarsplan"]).then(result => {
                updateDepartures("ekstubben", result);
            });
            getDeparturesByDestinations(gullmarsplan, ["801", "814"], ["Älta", "Södra Hedvigslund"]).then(result => {
                updateDepartures("gullmarsplan", result);
            });
            getDeparturesByDestinations(vattugatan, ["812C", "813C", "815C"], ["Tyresö Kyrka", "Nyfors", "Tyresö C"]).then(result => {
                updateDepartures("vattugatan", result);
            });
        </script>
    </body>
</html>
