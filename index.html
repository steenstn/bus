<html>
    <head><meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="sl.js"></script>
    </head>
    <body>
        <h2>Ekstubben</h2>
        <p id="ekstubben">Laddar...</p>

        <h2>Norra sköndal</h2>
        <p id="norraSkondal">Laddar...</p>

        <h2>Gullmarsplan</h2>
        <p id="gullmarsplan">Laddar...</p>
        
        <h2>Vattugatan</h2>
        <p id="vattugatan">Laddar...</p>

        <script>
            let ekstubben = 4604;
            let norraSkondal = 1810;
            let gullmarsplan = 9189;
            let vattugatan = 9934;

            let updateDepartures = (id, data) => {
                let output = document.getElementById(id);
                output.innerText = "";
                data.forEach(d => output.innerText+=d);
            };
            /// https://www.trafiklab.se/api/our-apis/sl/transport/
            getDeparturesByDestinations(norraSkondal, "Älta", "Stockholm C").then(result => {
                updateDepartures("norraSkondal", result);
            });
            getDeparturesByDestinations(ekstubben, "Gullmarsplan").then(result => {
                updateDepartures("ekstubben", result);
            });
            getDeparturesByDestinations(gullmarsplan, "Älta", "Södra Hedvigslund").then(result => {
                updateDepartures("gullmarsplan", result);
            });
            getDeparturesByDestinations(vattugatan, "Tyresö Kyrka", "Nyfors", "Tyresö C").then(result => {
                updateDepartures("vattugatan", result);
            });
        </script>
    </body>
</html>
